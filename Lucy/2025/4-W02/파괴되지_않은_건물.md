# íŒŒê´´ë˜ì§€ ì•Šì€ ê±´ë¬¼

## ë¬¸ì œ ì •ë³´

- URL: [íŒŒê´´ë˜ì§€ ì•Šì€ ê±´ë¬¼ í’€ì–´ë³´ê¸°](https://school.programmers.co.kr/learn/courses/30/lessons/92344)
- LEVEL: Lv.3
- TOPICS: Prefix Sum, IMOS Algorithm

## ë¬¸ì œ íšŒê³ 

### ğŸ’¡ ì–´ë–¤ ë¬¸ì œì¸ê°€ìš”?

ì£¼ì–´ì§„ board ë°°ì—´ì€ ê±´ë¬¼ì˜ ë‚´êµ¬ë„ë¥¼ ë‚˜íƒ€ë‚´ëŠ” 2ì°¨ì› ë°°ì—´ì…ë‹ˆë‹¤. skill ë°°ì—´ì—ëŠ” ì ì˜ ê³µê²© ë˜ëŠ” ì•„êµ°ì˜ íšŒë³µ ìŠ¤í‚¬ì´ ë‹´ê²¨ ìˆê³ , ê° ìŠ¤í‚¬ì€ ì§ì‚¬ê°í˜• ì˜ì—­ì„ ê¸°ì¤€ìœ¼ë¡œ ê±´ë¬¼ì˜ ë‚´êµ¬ë„ë¥¼ degreeë§Œí¼ ì¦ê°€ ë˜ëŠ” ê°ì†Œì‹œí‚µë‹ˆë‹¤. ëª¨ë“  ìŠ¤í‚¬ì„ ìˆœì°¨ì ìœ¼ë¡œ ë°˜ì˜í•œ í›„, ìµœì¢…ì ìœ¼ë¡œ ë‚´êµ¬ë„ê°€ 1 ì´ìƒì¸ ê±´ë¬¼ì˜ ê°œìˆ˜ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

### ğŸ’­ ì²˜ìŒì—” ì–´ë–»ê²Œ ìƒê°í–ˆë‚˜ìš”?

ë¬¸ì œë¥¼ ì²˜ìŒ ë´¤ì„ ë•Œ, ìì—°ìŠ¤ëŸ½ê²Œ BFSë‚˜ DFSë¡œ ë²”ìœ„ë¥¼ ëŒë©´ì„œ í•˜ë‚˜í•˜ë‚˜ ë‚´êµ¬ë„ë¥¼ ì—…ë°ì´íŠ¸í•˜ë©´ ë˜ê² ì§€? ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ìŠ¤í‚¬ í•˜ë‚˜ë‹¹ (r1, c1)~(r2, c2) ë²”ìœ„ë¥¼ ë§¤ë²ˆ ìˆœíšŒí•´ì„œ ê°’ì„ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë””ë²„ê¹… ì‹¤í–‰ì„ í•˜ì ë¬¸ì œë¥¼ ë°”ë¡œ íŒŒì•…í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. skillì˜ ìµœëŒ€ ê¸¸ì´ëŠ” 250,000ì´ê³ , ê° ìŠ¤í‚¬ë§ˆë‹¤ ìµœëŒ€ 1,000x1,000 í¬ê¸°ì˜ ë²”ìœ„ë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë‹¤ ë³´ë‹ˆ, ìµœì•…ì˜ ê²½ìš° 250ì–µ ë²ˆ ì´ìƒì˜ ì—°ì‚°ì´ ë°œìƒí•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì´ ë°©ì‹ì€ ì‹œê°„ ì´ˆê³¼ë¥¼ í”¼í•  ìˆ˜ ì—†ë‹¤ëŠ” ê±¸ ì•Œ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë‹¤ë¥¸ ë°©ë²•ì„ ê³ ë¯¼í•  í•„ìš”ê°€ ìˆì–´ Chat GPTì™€ ëŒ€í™”ë¥¼ í†µí•´ 'ì´ëŸ° ë¬¸ì œëŠ” IMOS ì•Œê³ ë¦¬ì¦˜ì„ ì¨ì•¼ í•œë‹¤'ëŠ” íŒíŠ¸ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤.

### ğŸ§© ì–´ë–»ê²Œ í’€ì´í–ˆë‚˜ìš”?

#### IMOS(Indexed Modification of Sums) ì•Œê³ ë¦¬ì¦˜? IMOS Methodë€?

IMOSëŠ” ëˆ„ì í•©(Prefix Sum)ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ê¸°ë²•ìœ¼ë¡œ, "ì‹œì‘ì ì— ë”í•˜ê³ , ëì  ë°”ë¡œ ë‹¤ìŒì— ë¹¼ê¸°" ë¥¼ í†µí•´ ì¤‘ê°„ êµ¬ê°„ ì „ì²´ì— ì¼ê´„ì ìœ¼ë¡œ ì˜í–¥ì„ ì£¼ëŠ” ë°©ì‹ì„ ì”ë‹ˆë‹¤.

2ì°¨ì› í™•ì¥ì—ì„œëŠ” ë‹¤ìŒ 4ê°œì˜ ìœ„ì¹˜ë§Œ ì¡°ì‘í•©ë‹ˆë‹¤:

| ìœ„ì¹˜                       | íš¨ê³¼           | ì´ìœ              |
| -------------------------- | -------------- | ---------------- |
| imos[r1][c1] += degree     | ì¢Œìƒë‹¨ ì‹œì‘    | ëˆ„ì  ì‹œì‘ì       |
| imos[r1][c2+1] -= degree   | ìš°ìƒë‹¨ ë ë‹¤ìŒ | ê°€ë¡œ ëˆ„ì  ëŠê¸°   |
| imos[r2+1][c1] += degree   | ì¢Œí•˜ë‹¨ ë ë‹¤ìŒ | ì„¸ë¡œ ëˆ„ì  ëŠê¸°   |
| imos[r2+1][c2+1] += degree | ìš°í•˜ë‹¨ ë‹¤ìŒ    | ì¤‘ë³µëœ ì°¨ê° ë³µêµ¬ |

4ê°œì˜ ìœ„ì¹˜ë¥¼ ì¡°ì‘í•œ í›„ í–‰ ëˆ„ì í•©, ì—´ ëˆ„ì í•©ì„ ì‹¤í–‰í•˜ì—¬ (r1, c1) - (r2, c2) êµ¬ê°„ì˜ ë³€í™”ëŸ‰ì„ ê³„ì‚°í•©ë‹ˆë‹¤.

##### ì°¸ê³  1ì°¨ì› í™•ì¥

- arr[s] += x
- arr[e+1] -= x
- â†’ ì´í›„ ëˆ„ì í•©(prefix sum) ê³„ì‚°

#### ì½”ë“œ í’€ì´

1. boardì™€ ë™ì¼í•œ í¬ê¸°ì˜ imosBoardë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ ëª¨ë“  ìŠ¤í‚¬ì„ ëˆ„ì  ê¸°ë¡í•©ë‹ˆë‹¤.

```typescript
const ROW = board.length;
const COL = board[0].length;
const imosBoard = Array.from({ length: ROW + 1 }, () => new Array(COL + 1).fill(0));

for (const [type, startRow, startCol, endRow, endCol, degree] of skill) {
  let val = 1;
  if (type === TYPE.enemy) val = -1;
  else val = 1;

  imosBoard[startRow][startCol] += degree * val;
  imosBoard[startRow][endCol + 1] -= degree * val;
  imosBoard[endRow + 1][startCol] -= degree * val;
  imosBoard[endRow + 1][endCol + 1] += degree * val;
}
```

2. ë¨¼ì € í–‰ ë°©í–¥ ëˆ„ì í•©, ê·¸ë‹¤ìŒ ì—´ ë°©í–¥ ëˆ„ì í•©ì„ ê³„ì‚°í•´ì„œ ê° ìœ„ì¹˜ì˜ ëˆ„ì ëœ degree ê°’ì„ ì™„ì„±í•©ë‹ˆë‹¤.

```typescript
// í–‰ ëˆ„ì í•©
for (let i = 0; i < ROW + 1; i++) {
  for (let j = 1; j < COL + 1; j++) {
    imosBoard[i][j] += imosBoard[i][j - 1];
  }
}

// ì—´ ëˆ„ì í•©
for (let j = 0; j < COL + 1; j++) {
  for (let i = 1; i < ROW + 1; i++) {
    imosBoard[i][j] += imosBoard[i - 1][j];
  }
}
```

3. ì´ ëˆ„ì ê°’ì„ ì›ë˜ boardì™€ ë”í•œ í›„, ìµœì¢… ë‚´êµ¬ë„ê°€ 1 ì´ìƒì¸ ê±´ë¬¼ë§Œ ì¹´ìš´íŠ¸í•´ì„œ ê²°ê³¼ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

```typescript
for (let i = 0; i < ROW; i++) {
  for (let j = 0; j < COL; j++) {
    const durability = board[i][j] + imosBoard[i][j];
    if (durability > 0) answer++;
  }
}

return answer;
```

#### ê·¸ë¦¼ ì„¤ëª…

![Image](https://github.com/user-attachments/assets/81af6d08-8831-45db-910e-019f2e923713)

### ğŸ¤” íšŒê³ 

ì´ë²ˆ ë¬¸ì œë¥¼ í†µí•´ **IMOS ì•Œê³ ë¦¬ì¦˜(IMOS Method)**ì— ëŒ€í•´ ìƒˆë¡­ê²Œ ê³µë¶€í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë°±ì¤€ì— [imos Method ë¬¸ì œì§‘](https://www.acmicpc.net/workbook/view/18878)ì´ ìˆì–´ì„œ ê³µë¶€í•´ë³´ë©´ ì¢‹ì„ ê²ƒ ê°™ë‹¤ëŠ” ìƒê°ì„ í–ˆìŠµë‹ˆë‹¤. 2ì°¨ì› ë°°ì—´ì˜ êµ¬ê°„ í•©ì„ ë‹¤ë£¨ëŠ” ë¬¸ì œì—ì„œëŠ” IMOSë¿ë§Œ ì•„ë‹ˆë¼, **ëˆ„ì í•©(Prefix Sum)**ì´ë‚˜ ëˆ„ì í•© í™•ì¥ ë°©ì‹ë„ í•¨ê»˜ ê³ ë ¤í•´ë´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

## ì°¸ê³  ìë£Œ

- [imos ì•Œê³ ë¦¬ì¦˜ | hyunsoo730.log](https://velog.io/@hyunsoo730/imos-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)
- [imos ì•Œê³ ë¦¬ì¦˜ - ëˆ„ì í•© ë¬¸ì œ íš¨ìœ¨ì ìœ¼ë¡œ í‘¸ëŠ” ë°©ë²• | hyunjin tistory](https://hegosumluxmundij.tistory.com/231)
